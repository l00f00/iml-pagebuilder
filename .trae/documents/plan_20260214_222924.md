The user is reporting that "existing insertions" (items already in the database and loaded on page refresh) do not show the "Pagina Singola" indicator in the builder grid.

I previously updated the *JavaScript* logic that adds *new* items to the grid to show the indicator. However, I must also update the *PHP* function that renders the grid items when the page is loaded from the database.

I need to check `render_grid_item` (or equivalent) functions in:

1. `includes/post-types/portfolio/builder.php` -> `portfolio_render_grid_item`
2. `includes/post-types/homepage/builder.php` -> `homepage_render_grid_item`
3. `includes/post-types/project/builder.php` -> The loop inside `project_meta_box_callback` (it seems Project builder might not have a separate helper function, or I need to find it).

**Plan:**

1. **Portfolio Builder:** Update `portfolio_render_grid_item` in `includes/post-types/portfolio/builder.php` to check `has_single_page` meta and output the indicator HTML.
2. **Homepage Builder:** Update `homepage_render_grid_item` in `includes/post-types/homepage/builder.php`. I actually already updated this in the previous step (checked the tool output), but I will double-check if I missed anything or if the logic `get_post_meta($post_id, 'has_single_page', true)` is failing for some reason.

   * *Wait*, looking at my previous tool output for `homepage/builder.php`, I *did* add:

     ```php
     if ($has_single) {
         $output .= '<span style="position:absolute;...
     }
     ```

     So Homepage should be working. I will verify.
3. **Project Builder:** In `includes/post-types/project/builder.php`, I updated the loop that renders existing items.

   * *Wait*, looking at the previous tool output for `project/builder.php`:

     ```php
     if ($has_single) {
          $output .= '<span style="color: green; ...
     }
     ```

     I did update the PHP loop.

**Why might it not be showing?**

* Maybe the meta key is empty or stored differently?

* Maybe the CSS styles are hidden or overridden?

* Maybe the `get_post_meta` call is returning false?

* **Crucially**: The user says "per gli inserimenti esistenti". This implies the PHP rendering.

* **Hypothesis**: For `portfolio` and `homepage`, I used helper functions. For `project`, I used a loop.

* **Hypothesis 2**: In `project/builder.php`, the code I modified was inside `render_project_grid_item` (if it exists) or the main callback.

  * Looking at `project/builder.php` content from previous reads, there is `render_project_meta_box`? No, it's `project_meta_box_callback`.

  * I need to be 100% sure I modified the *PHP* rendering logic, not just the JS.

  * In `portfolio/builder.php`, I modified `portfolio_render_grid_item`.

  * In `homepage/builder.php`, I modified `homepage_render_grid_item`.

  * In `project/builder.php`, I modified the loop:

    ```php
    foreach ($portfolio_items as $item_id) { // Wait, variable name check?
       // ...
    }
    ```

    Wait, in `project/builder.php`, the variable is likely `$items` or `$project_items`.
    I need to carefully check the variable names and logic in `project/builder.php`.

**Let's re-verify the code in** **`project/builder.php`.**
I suspect I might have edited the wrong part or the variable `$has_single` is not being set correctly before the check.

I will read `includes/post-types/project/builder.php` again to be sure.

**Also**: The user might be referring to *Portfolio* existing items.
In `portfolio/builder.php`, I modified `portfolio_render_grid_item`.

```php
function portfolio_render_grid_item($post_id) {
    // ...
    $has_single = get_post_meta($post_id, 'has_single_page', true); // DID I ADD THIS?
    // ...
}
```

I need to check if I actually added the line to *retrieve* the meta in the function. In the tool output, I see I added the *output* logic, but did I add the `$has_single = ...` line?
In `homepage/builder.php`, I see `$has_single = get_post_meta...` in the tool output.
In `project/builder.php`, I see `$has_single = get_post_meta...` in the tool output.

I will verify `portfolio/builder.php` specifically.

**Steps:**

1. Read `includes/post-types/portfolio/builder.php` to ensure `portfolio_render_grid_item` retrieves `has_single_page`.
2. Read `includes/post-types/project/builder.php` to ensure the loop retrieves it.
3. Fix any missing retrieval logic.

